(window.webpackJsonp=window.webpackJsonp||[]).push([[309],{848:function(t,s,a){"use strict";a.r(s);var n=a(6),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"iam"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iam"}},[t._v("#")]),t._v(" IAM")]),t._v(" "),s("p",[t._v("AWS 초기 가입 시 생성하는 루트계정은 계정 생성에만 사용해야 하며 반드시 IAM을 통해 서비스를 사용해야 합니다.")]),t._v(" "),s("p",[t._v("IAM 사용자는 특정 그룹에 속하게 됩니다. 이 그룹에는 "),s("code",[t._v("JSON")]),t._v(" 형태로 권한을 부여하게 되며 그룹에 속한 사용자는 JSON에 명시된 권한들을 갖고 솔루션을 활용하게 됩니다. 이를 AWS에서 최소 권한 정책이라고 이야기합니다.")]),t._v(" "),s("ol",[s("li",[t._v("IAM 대시보드에 접속")]),t._v(" "),s("li",[t._v("좌측 액세스 관리 메뉴의 사용자 메뉴 클릭")]),t._v(" "),s("li",[t._v("사용자 추가 -> 사용자 추가 페이지로 이동")]),t._v(" "),s("li",[t._v("사용자 이름 작성")]),t._v(" "),s("li",[t._v("AWS 액세스 유형 선택 - 액세스 키 또는 암호 선택")]),t._v(" "),s("li",[t._v("콘솔 비밀번호 - 직접 입력")]),t._v(" "),s("li",[t._v("비밀번호 재설정은 체크 해제, 다음페이지 이동")]),t._v(" "),s("li",[t._v("그룹에 사용자 추가 탭 클릭")]),t._v(" "),s("li",[t._v("그룹 생성 - AdministratorAccess (첫 번째 요소) 선택 후 생성 후 다음페이지 : 태그 이동")]),t._v(" "),s("li",[t._v("태그 페이지에서 사용자 정보에 대한 간략한 태그 작성 (필수 아님) -> 검토 페이지로 이동")]),t._v(" "),s("li",[t._v("계정 생성 후 "),s("code",[t._v(".csv")]),t._v(" 파일을 반드시 받아줍니다. 생성한 IAM 계정 정보가 들어있으며 비밀번호 자동 생성을 선택했을 경우 csv 파일 내에 비밀번호 정보를 사용해야 합니다.")])]),t._v(" "),s("p",[t._v("생성한 IAM 계정으로 로그인하기 위해서는 IAM 대시보드로 다시 돌아갑니다.")]),t._v(" "),s("p",[t._v("대시보드 우측에 AWS 계정이라는 섹션이 있고 계정 ID 및 별칭 섹션이 있습니다. 계정 ID로 로그인해도 되지만 별칭 설정을 통해 자동 생성된 URL로 로그인해도 됩니다.")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("IAM 별칭으로 로그인하기")]),t._v(" "),s("p",[t._v("IAM 별칭으로 생성된 URL을 가지고 로그인을 시도할 때에는 반드시 브라우저 시크릿 모드나 다른 브라우저를 통해 실행해야 합니다.")]),t._v(" "),s("p",[t._v("현재 루트 사용자로 로그인해둔 상태로 AWS IAM 사용자를 생성 및 로그인 시도를 하기 때문입니다.")])]),t._v(" "),s("p",[t._v("그룹 생성을 모두 마치고 루트 계정의 IAM 대시보드에서 생성한 그룹을 클릭, 생성한 IAM 사용자 추가를 진행하여 그룹에 사용자를 투입합니다.")]),t._v(" "),s("h2",{attrs:{id:"iam-정책"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iam-정책"}},[t._v("#")]),t._v(" IAM 정책")]),t._v(" "),s("p",[t._v("IAM 그룹에 대한 정책은 그룹에 속한 사용자들에게 자동으로 상속됩니다. 어느 그룹에도 속하지 않거나 특정 사용자에 대한 권한 설정으로 inline 권한을 따로 부여할 수도 있습니다.")]),t._v(" "),s("p",[t._v("여러 그룹에 몸담고 있는 사용자는 여러 그룹에 대한 정책을 모두 상속받게 됩니다.")]),t._v(" "),s("p",[t._v("IAM 정책은 JSON으로 이루어져 있으며 구조는 다음과 같습니다.")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Version"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2022-10-17"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Id"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"S3-Account-Permissions"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Statement"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Sid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Effect"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Allow"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Principal"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"AWS"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:iam::123456789012:root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Action"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:GetObject"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"s3:PutObject"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"Resource"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"arn:aws:s3:::mybucket/*"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ol",[s("li",[s("code",[t._v("Version")]),t._v(": IAM 정책 버전")]),t._v(" "),s("li",[s("code",[t._v("Id")]),t._v(": 정책 식별자 (선택사항)")]),t._v(" "),s("li",[s("code",[t._v("Statement")]),t._v(": 정책을 구성하는 문장 ("),s("strong",[t._v("필수")]),t._v(")")])]),t._v(" "),s("p",[s("code",[t._v("Statement")]),t._v("는 다음과 같은 내부 구조를 갖습니다.")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("Sid")]),t._v(": 문장 식별자 (선택사항)")]),t._v(" "),s("li",[s("code",[t._v("Effect")]),t._v(": 문장이 특정 API에 대한 접근을 허용할지 여부에 대해 지정. "),s("code",[t._v("Deny")]),t._v("로 지정 가능")]),t._v(" "),s("li",[s("code",[t._v("Principal")]),t._v(": 정책이 적용될 계정 정보를 지정")]),t._v(" "),s("li",[s("code",[t._v("Action")]),t._v(": Effect가 적용되는 API 목록")]),t._v(" "),s("li",[s("code",[t._v("Resource")]),t._v(": action이 적용될 대상")])]),t._v(" "),s("p",[t._v("IAM 계정 생성 및 초기 로그인 후 IAM 계정의 IAM 대시보드로 이동하면 접근 권한에 대한 에러가 페이지에 표시됩니다. 이때 루트 계정에서 해당 IAM 계정에 대한 IAM 대시보드 접근 권한을 부여해야 합니다.")]),t._v(" "),s("p",[t._v("IAM 계정에 대해 권한 부여를 하는 흐름은 다음과 같습니다.")]),t._v(" "),s("ol",[s("li",[t._v("루트 계정에서 생성한 그룹에 사용자를 추가합니다. (그룹 정책 상속)")]),t._v(" "),s("li",[t._v("루트 계정의 액세스 관리 - 사용자 탭으로 이동하여 생성한 IAM 계정 선택")]),t._v(" "),s("li",[t._v("권한 탭 - 기존 정책 직접 연결 탭 - IAMReadOnlyAccess 권한 부여 (테스트용으로 권한은 아무거나 부여해도 상관 없음)")])])])}),[],!1,null,null,null);s.default=r.exports}}]);