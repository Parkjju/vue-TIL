(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1126:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("프로젝트 포즈피커 개발 이야기입니다! 궁금하시다면 놀러와주세요 😃 "),s("a",{attrs:{href:"https://apps.apple.com/kr/app/%ED%8F%AC%EC%A6%88%ED%94%BC%EC%BB%A4-%EB%84%A4%EC%BB%B7%EC%82%AC%EC%A7%84-%ED%8F%AC%EC%A6%88%EC%B6%94%EC%B2%9C/id6474260471",target:"_blank",rel:"noopener noreferrer"}},[t._v("[포즈피커 다운받기🔗]"),s("OutboundLink")],1)]),t._v(" "),s("h1",{attrs:{id:"rxswift와-loadviewifneeded의-활용"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rxswift와-loadviewifneeded의-활용"}},[t._v("#")]),t._v(" RxSwift와 loadViewIfNeeded의 활용")]),t._v(" "),s("h2",{attrs:{id:"문제-상황"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#문제-상황"}},[t._v("#")]),t._v(" 문제 상황")]),t._v(" "),s("p",[t._v("문제의 화면을 보자.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(562),alt:"36-1"}})]),t._v(" "),s("ol",[s("li",[t._v("포즈피드 뷰에서 태그를 선택하여 1차 필터링 진행")]),t._v(" "),s("li",[t._v("추가한 필터 다시 삭제")]),t._v(" "),s("li",[t._v("필터링 모달창을 띄우고 필터 새로 적용")]),t._v(" "),s("li",[s("strong",[t._v("2번에서 삭제한 필터가 갑자기 재등장")])])]),t._v(" "),s("p",[t._v("왜 이런 문제가 발생하고 있는걸까?")]),t._v(" "),s("h2",{attrs:{id:"설계된-화면의-흐름"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#설계된-화면의-흐름"}},[t._v("#")]),t._v(" 설계된 화면의 흐름")]),t._v(" "),s("p",[t._v("본격적인 문제의 해결에 앞서 설계된 화면이 어떤 흐름으로 데이터를 주고받는지를 알아야 한다.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(563),alt:"36-2"}})]),t._v(" "),s("ol",[s("li",[t._v("포즈피드 루트 뷰에서 이미지 셀을 탭하면 포즈 상세정보를 표기하는 뷰가 모달 형태로 "),s("code",[t._v("present")]),t._v(" 된다.")]),t._v(" "),s("li",[t._v("이미지와 관련된 태그정보들을 서버로부터 받아와 컬렉션뷰가 구성된다.")]),t._v(" "),s("li",[t._v("이미지 관련 태그 셀을 탭하면 포즈 상세 뷰가 dismiss되고 태그 정보가 "),s("strong",[t._v("포즈피드 루트뷰를 거쳐 포즈피드 필터 뷰로 전달된다.")])]),t._v(" "),s("li",[t._v("포즈피드 루트 뷰에 포즈 상세 뷰에서 탭한 태그를 기준으로 필터링이 진행된다.")]),t._v(" "),s("li",[t._v("UI 바인딩이 단방향으로 이루어지기 때문에 "),s("strong",[t._v("포즈피드 루트 뷰의 필터 컬렉션뷰는 반드시 포즈피드 필터 뷰의 태그 정보값들을 옵저버블 형태로 가지고 있을때 해당 데이터를 바인딩하는 방식으로 구현된다.")])])]),t._v(" "),s("p",[t._v("5번 과정이 문제의 핵심이다. 포즈피드의 루트 뷰는 필터에 대한 정보를 포즈피드 루트 뷰모델에 가지고 있지 않고 "),s("strong",[t._v("포즈피드 필터에서 방출하는 옵저버블로부터 바인딩을 진행하는 것이다.")])]),t._v(" "),s("p",[t._v("모달창을 보면 인원 수, 프레임 수, 메인 태그들을 지정하는 영역이 있는데 각 태그 속성마다 열거형으로 직접 타입화되어 있기 때문에 모든 태그 정보들을 포즈피드 필터 뷰모델에서 "),s("code",[t._v("Observable.combineLatest")]),t._v("로 종합한 이후의 태그 정보를 포즈피드 루트 뷰와 포즈피드 필터 뷰에 각각 뿌려주게 되는 것이다.")]),t._v(" "),s("p",[s("img",{attrs:{src:a(564),alt:"36-3"}})]),t._v(" "),s("p",[t._v("문제는 포즈 상세 뷰에서 태그를 탭하여 포즈피드 필터 뷰로 선택된 태그 정보를 전달할 때에 "),s("strong",[t._v("포즈피드 필터 뷰 객체가 메모리 상에 올라와있는지 여부는 상관하지 않고 데이터 전달을 시도한다는 것이다.")])]),t._v(" "),s("p",[t._v("포즈피드 필터 뷰에서는 필터 뷰 자체 셀렉션과 더불어 각종 UI 바인딩을 처리하는 작업이 뷰 컨트롤러 내부의 "),s("code",[t._v("bindViewModel")]),t._v(" 함수에서 이루어진다.")]),t._v(" "),s("p",[t._v("상세 뷰로부터 "),s("code",[t._v("accept")]),t._v("되는 서브태그 정보는 포즈피드 필터 뷰 컨트롤러의 저장속성 "),s("code",[t._v("BehaviorRelay")]),t._v("내에 저장된다. 코디네이터를 통해 포즈 상세 뷰에서 포즈피드 필터 뷰 릴레이 객체에 태그정보값이 저장은 되지만 "),s("strong",[t._v("bindViewModel 함수가 호출되지 않은 상태이기 때문에 각종 셀렉션과 같은 반응형 동작들이 구독되지 않은 상태인 것이다.")])]),t._v(" "),s("p",[t._v("포즈피드 루트 뷰 상단의 필터 컬렉션 뷰 셀의 탭은 "),s("strong",[t._v("포즈피드 필터 뷰모델로 현재 태그 정보들을 업데이트 하는 인풋으로써 사용된다.")]),t._v(" 모달창을 직접 띄우지 않는 이상 포즈피드 필터뷰의 옵저버블들이 구독되지 않은 상태이기에 포즈피드 루트뷰 초기 진입이후에 "),s("strong",[t._v("모달창을 띄우지 않은 상태에서 서브태그의 추가와 삭제가 이루어져도 그 다음 새로 태그를 선택했을때 삭제했던 태그가 다시 되살아나는 것으로 보이는 것이다.")])]),t._v(" "),s("h2",{attrs:{id:"loadviewifneeded-의-활용"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#loadviewifneeded-의-활용"}},[t._v("#")]),t._v(" loadViewIfNeeded 의 활용")]),t._v(" "),s("p",[t._v("복잡하게 서술된 위의 문제를 간단히 정리하면 다음과 같다.")]),t._v(" "),s("ol",[s("li",[t._v("뷰 컨트롤러에 표기할 데이터들을 옵저버블 형태로 정의해둔 뷰모델을 구독해야만 반응형 로직이 처리되기 시작한다.")]),t._v(" "),s("li",[t._v("옵저버블 구독을 전체적으로 진행하는 뷰 컨트롤러 내의 함수가 호출되지 않은 상태에서 인풋 데이터가 주어진 상황이다.")]),t._v(" "),s("li",[t._v("인풋 데이터가 주어지기 전 뷰 컨트롤러 내의 함수를 로드하여 호출하면 문제가 해결된다.")])]),t._v(" "),s("p",[t._v("loadViewIfNeeded의 설명을 보자.")]),t._v(" "),s("blockquote",[s("p",[t._v("Discussion: Calling this method loads the view controller’s view from its storyboard file, or creates the view as needed based on the established rules.")])]),t._v(" "),s("p",[t._v("메모리 상에 뷰 컨트롤러 객체 자체는 올라와 있는 상태이지만 뷰가 lazy하게 로드된다는 특성 때문에 내부 함수들이 호출되지 않는 상태이기 때문에, 코디네이터에서 뷰가 로드되기 이전 시점에 데이터를 전달하고자 하는 경우 "),s("code",[t._v("loadViewIfNeeded")]),t._v(" 함수를 호출해주는 것이다.")]),t._v(" "),s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// PoseFeedCoordinator.swift")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("dismissPoseDetailWithTagSelection")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" posefeedViewController "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("navigationController"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("viewControllers"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("first "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PoseFeedViewController")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 셀렉션 초기화")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("poseFeedFilterViewController"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loadViewIfNeeded")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 옵저버블들 구독 진행")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ....")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"language-swift extra-class"},[s("pre",{pre:!0,attrs:{class:"language-swift"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// PoseFeedFilterViewController.swift")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// loadViewIfNeeded를 통해 bindViewModel함수가 호출되어")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 뷰모델로부터 만들어진 각종 옵저버블들이 구독처리된다.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("bindViewModel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" input "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PoseFeedFilterViewModel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Input")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("headCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" headCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buttonTapTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" frameCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" frameCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buttonTapTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tagSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" tagCollectionView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("modelSelected")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PoseFeedFilterCellViewModel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" registeredSubTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" registeredSubTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tagSelectCanceled"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cancelTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" isPresenting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" isPresenting"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resetButtonTapped"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" resetButton"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dismissState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dismissState"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" viewWillDisappearTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" viewWillDisappearTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" countTagRemoveTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" countTagRemoveTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filterTagRemoveTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" filterTagRemoveTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" subTagRemoveTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" subTagRemoveTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" detailViewDismissTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" detailViewDismissTrigger"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" filteredTagAfterDismiss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" filteredTagAfterDismiss"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("asObservable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" output "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" viewModel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("transform")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" input"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tagItems\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("drive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tagCollectionView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("items")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cellIdentifier"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PoseFeedFilterCell")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("identifier"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cellType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PoseFeedFilterCell")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token omit keyword"}},[t._v("_")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" viewModel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cell "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n            cell"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" viewModel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disposed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" disposeBag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headCountTag\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("drive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onNext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unowned")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pressIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token short-argument"}},[t._v("$0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" headCountTag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("PeopleCountTags")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTagFromTitle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buttonGroup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token short-argument"}},[t._v("$0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selectedHeadCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("headCountTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disposed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" disposeBag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frameCountTag\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("drive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onNext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unowned")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frameCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pressIndex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token short-argument"}},[t._v("$0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("guard")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" frameCountTag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FrameCountTags")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTagFromTitle")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frameCountSelection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buttonGroup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token short-argument"}},[t._v("$0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selectedFrameCount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("frameCountTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disposed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" disposeBag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    output"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("registeredTags\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("drive")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onNext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unowned")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selectedTags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token short-argument"}},[t._v("$0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disposed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" disposeBag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    subTagRemoveTrigger\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("subscribe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("onNext"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("unowned")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("self")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("registeredSubTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("accept")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token nil constant"}},[t._v("nil")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disposed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("by"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" disposeBag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    tagCollectionView"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateCollectionViewHeight")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"reference"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[t._v("#")]),t._v(" Reference")]),t._v(" "),s("ol",[s("li",[s("a",{attrs:{href:"https://github.com/pose-picker/PosePicker-iOS/blob/main/posepicker/Modules/PoseFeed/PoseFeedViewController.swift",target:"_blank",rel:"noopener noreferrer"}},[t._v("뷰 컨트롤러 설계 코드"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports},562:function(t,s,a){t.exports=a.p+"assets/img/36-1.c222f3f9.gif"},563:function(t,s,a){t.exports=a.p+"assets/img/36-2.e1d8e72a.jpeg"},564:function(t,s,a){t.exports=a.p+"assets/img/36-3.0e09116d.jpeg"}}]);