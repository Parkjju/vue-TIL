(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{373:function(t,s,a){t.exports=a.p+"assets/img/shadow.8de4b6c6.png"},374:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAAAdCAYAAACDgbNCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQkSURBVGhD7ZpPSBt5FMe/XTa7UjLIEnOI0LRVkIXdsiWBIihYEBYhFHLzJvTag+DFS/EkXrwIPfRa8JZboAyUQkFBoRQSurQLRYhtLTSHmEOYILYWuu/9fm/i1B11JrG10/l9YMjvz8zvz7z3vr8XmAufCRhiyU/ya4ghxvgx5ljZX/nnIR6/e469Tx+lxfA9cvHnX/D3peuY++uWtATH1/hs+PLrZ1IzRIHi1RuhHcBX9jniDdGiG5v5Gt9IffToxmYm4YsxxvgxxjfhmygvSMmH4duwrw0hKVWgAbt8D8tSC8L85CImPjxCYWNTWk6G7y9YUhHau8GfB8awUpjCSOvIM7lZrGdB668g49fvYXr8Lmawdvqcasy0VLzwe/LOQ4n1MXN65wo8L7FeXJRSMMJFvhi+ubOgHISv+7sWCoXbmJZbTmcMmT4phsGpdOaceLENDNzEyrD0dUv1Ho3HjruJOXsh0As+FTWmXqftaCfV9XAB8i0IZfz5K0MAbWamKg1EaeNfvE1YuCx15fnkgeqaLErjIdPjN5FLAMmO8YpYde8vzmJe3XUKtS1sHfQh1c8Vjmr3ebpcR+R1FGaxyn2Tf3KLIPPx2tRaeU49hj0+5mljdPtqjva556C5p52DleikPUaFEMbXEeu+gEPKmHG9mpUha6H6gj39Eap9ef1CPZQ21lA94IhYw1yNX24eKYmOwCoyPIKRxD6aLS6nUX8likCy+jYxiFFXEcgpm9z35KU0pNV8YOV6Upa2gFBEK6enPU5YLOEyn/VH7wp0TvSQ8HkjVkcH+i0kD97jaY37N/G0tY/kr37nn0saKTLiVl07VKn+Hm2vinix8ofRRkcPlPNQe62MZeVE3Jc/8qyDulqLJjmQR26/8oVyhUapThoFXsckyPGX9DoiSAjjb6K+D6QuupHMEc/eTxFOkfzV8Z75dHXOZyXTU0jVJRJ1qy/t3YpSI+WoXaPzAx312iF7G+/8CBX5y2840Zr6crNKgqXccihyXdkdw2h/H9ofGqrLnwaadHaPZLRDTWcGSTmcEw3oy8E2bI7mXNZfNTo0MPdqG6nsCbkF7wEWMrwH795c+GhTRxM7/9dx/NLGUse5veWzJpzs1x6gQB6PrMivSDBn/0pKuX/HQe4a900pif3/wrWC6ISPo6iCJjkUj3VnwIFtP0BJ7gxEdYfO+SHc4bX85pAx3ETwGGiN6w7J9nGJmiSTag+/U85w1Lj0/GprUM8ne+zlGEnK3vV1V+UP/PfOzZW85bMm/P/8Hwk+MjIO7ttbGKX/3Hx09JQPnDPsQGHoIeGLOGz4bBrt1kdl+FyigZcRNnw3xDvyfzDOJPL5AwFDtOjGZr7G5y9DDNGiG5uZz7gizpl/xmWIB/HN9g3G+HHGGD/GGOPHGGP82AL8B/0B8q8co4xoAAAAAElFTkSuQmCC"},867:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"shadow-dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shadow-dom"}},[t._v("#")]),t._v(" Shadow DOM")]),t._v(" "),s("p",[t._v("우리는 DOM트리 구축 후 웹에서 제공하는 API를 통해 자유롭게 요소에 접근할 수 있다. DOM 요소의 위치에 상관없이 어디에서나 접근할 수 있다. 이 말은 즉슨 "),s("strong",[t._v("DOM 요소 모두가 글로벌 스코프에 위치하였다는 것이다.")]),t._v(" 글로벌 스코프에 위치한 요소에 대해 통일된 속성을 한꺼번에 적용할 수 있다는 것은 장점이지만 동시에 큰 단점이 된다. "),s("strong",[t._v("특정 요소를 캡슐화(encapsulation - 컴포넌트화) 하기가 어렵다는 것이다.")])]),t._v(" "),s("iframe",{staticClass:"twitter-follow-button twitter-follow-button-rendered",staticStyle:{position:"static",visibility:"visible",width:"164px",height:"20px"},attrs:{id:"twitter-widget-0",scrolling:"no",frameborder:"0",allowtransparency:"true",allowfullscreen:"true",title:"Twitter Follow Button",src:"https://platform.twitter.com/widgets/follow_button.a58e82e150afc25eb5372dd55a98b778.en.html#dnt=false&id=twitter-widget-0&lang=en&screen_name=ireaderinokun&show_count=false&show_screen_name=true&size=m&time=1645677292018","data-screen-name":"ireaderinokun"}}),t._v(" "),s("p",[t._v("위 요소는 "),s("code",[t._v("iframe")]),t._v("으로, 웹 페이지를 현재 페이지 내에 삽입하는 태그이다. 캡슐화 성격이 어느정도 있다고 볼 수 있지만 현재 페이지에 임포트 중인 클래스 명과 충돌을 일으키거나 각종 속성과 맞지 않는 부분이 생기면 원하는 결과물이 나오지 않을 수 있다. 즉 완전한 캡슐화가 이루어지지 않은 것이다. "),s("code",[t._v("iframe")]),t._v("도 해결하지 못하는 요소 캡슐화를 어떻게 해결할 수 있을까? 바로 "),s("strong",[t._v("섀도우 돔을 이용하면 된다.")])]),t._v(" "),s("p",[t._v("섀도우 돔은 "),s("strong",[t._v("DOM within a DOM")]),t._v(" 으로 간단히 정의할 수 있다."),s("code",[t._v("input")]),t._v(" 태그를 생각해보자.")]),t._v(" "),s("p",[s("input",{attrs:{type:"range"}}),s("br")]),t._v(" "),s("p",[t._v("크롬 개발자 도구 - Prference - Elements 메뉴에 "),s("strong",[t._v("Show user agent shadow DOM")]),t._v(" 체크박스를 체크하면 게이지 바를 이루는 내부 요소들을 표시해준다.")]),t._v(" "),s("img",{attrs:{src:a(373)}}),t._v(" "),s("p",[t._v("섀도우로 만들어진 내부 요소는 전역 스코프에서의 DOM으로부터 별다른 영향이 없다. 섀도우 돔을 직접 만들어보자.")]),t._v(" "),s("p",[t._v("먼저 섀도우 요소가 들어갈 호스트를 만든다. 이는 오리지널 DOM의 HTML요소이며 이 요소 안에 섀도우 돔이 부착된다. (다음의 코드를 현재 문서의 크롬 개발자 도구 콘솔에 입력해보자.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spanTag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"span"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nspanTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"class"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"shadow-host"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 버튼 제작")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" aTag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\naTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"href"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://parkjju.github.io/vue-TIL/"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nspanTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("aTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 버튼 링크를 자식 요소로 삽입")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" txt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTextNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Go to Parkjju\'s TIL!!"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a태그의 자식 텍스트 노드 생성")]),t._v("\naTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("txt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// spanTag를 문서 아무곳이나 붙여주세요.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 저는 현재 문서 기준 Shadow DOM 요약 문서 아래쪽에 붙이겠습니다.")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#shadow-dom"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextElementSibling"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("spanTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 그런 다음 문서로부터 방금 붙인 spanTag요소를 다시 찾아서 읽어옵니다.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shadowElement "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".shadow-host"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 읽어온 요소를 섀도우 돔으로 만듭니다.")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" shadow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shadowElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachShadow")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"open"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("shadowElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("섀도우 요소를 직접 찍어보면 "),s("code",[t._v("shadowElement")]),t._v(" 내에 섀도우 루트가 정상적으로 삽입된 것을 볼 수 있다. "),s("code",[t._v("#shadow-root")]),t._v("라고 되어 있는 부분은 HTML 문서의 시작을 알리는 "),s("code",[t._v("html")]),t._v("태그라고 보면 된다. DOM 엔트리 포인트인 "),s("code",[t._v("html")]),t._v("로 봐도 된다.")]),t._v(" "),s("p",[t._v("섀도우 삽입과 동시에 기존에 보이던 요소가 갑자기 사라지게 되는 것을 볼 수 있는데, 추가적인 작업을 더 진행해보자. (해당 돔은 엔트리포인트가 더 이상 "),s("code",[t._v("html")]),t._v("이 아닌 "),s("code",[t._v("shadow-root")]),t._v("가 되어 페이지에서 사라지는 것이다.)")]),t._v(" "),s("p",[t._v("이제 우리는 루트가 "),s("code",[t._v("shadow-root")]),t._v("인 새로운 트리를 구축해야한다. DOM과 닮았지만 전혀 다른 트리이다. 섀도우 트리 구축을 위해 문서를 작성해보자.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" link "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" aTagTextShadow "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createTextNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("shadowElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nlink"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("aTagTextShadow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nlink"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shadowElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nshadow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("link"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 뿅")]),t._v("\n")])])]),s("p",[t._v("링크가 나타난 것을 볼 수 있는가? 섀도우 돔의 캡슐화를 더 직접적으로 체감하기 위해 스타일을 적용해보자. 먼저 스타일태그 코드를 "),s("a",{attrs:{href:"https://bitsofco.de/what-is-the-shadow-dom/?utm_source=CSS-Weekly&utm_campaign=Issue-344&",target:"_blank",rel:"noopener noreferrer"}},[t._v("참고 자료"),s("OutboundLink")],1),t._v("에서 긁어오자.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" styles "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"style"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 스타일 요소 생성")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 스타일 속성 정의")]),t._v("\nstyles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textContent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\na, span {\n  vertical-align: top;\n  display: inline-block;\n  box-sizing: border-box;\n}\n\na {\n    height: 20px;\n    padding: 1px 8px 1px 6px;\n    background-color: #3EAF7C;\n    color: #fff;\n    border-radius: 3px;\n    font-weight: 500;\n    font-size: 11px;\n    font-family:'Helvetica Neue', Arial, sans-serif;\n    line-height: 18px;\n    text-decoration: none;   \n}\n\na:hover {  background-color: #45B884; }\n\nspan {\n    position: relative;\n    top: 2px;\n    width: 14px;\n    height: 14px;\n    margin-right: 3px;\n    background: transparent 0 0 no-repeat;\n}\n")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("스타일 정의 후 먼저 "),s("code",[t._v("shadowElement")]),t._v(" 객체에 "),s("code",[t._v("appendChild")]),t._v(" 메서드로 스타일을 등록해보자. "),s("code",[t._v("style")]),t._v(" 내에 셀렉팅 된 요소 전체에 스타일이 적용될 것이다.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("shadowElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("styles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 전체 적용되어버림")]),t._v("\n")])])]),s("p",[s("code",[t._v("shadowElement")]),t._v("는 Shadow-host로, 섀도우 호스트까지는 DOM으로 취급받기 때문에 글로벌 스코프에 존재하는 것으로 인식되며 새로 정의한 "),s("code",[t._v("styles")]),t._v(" 객체도 결국 글로벌 스코프에 존재하기 때문에 페이지 전체에 해당 속성들이 적용되어버린다.")]),t._v(" "),s("p",[t._v("그러면 "),s("code",[t._v("shadow")]),t._v(" 객체에 자식으로 붙여보면 어떻게될까?")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("shadow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("styles"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("새로 만든 섀도우 돔 요소에만 스타일이 적용된 것을 볼 수 있을 것이다. 나머지 페이지에는 적용되지 않는 스타일이 돔 내에서만 적용된다. 섀도우 돔을 만들고 스타일까지 정의한 뒤에 해당 스타일에서 셀렉트하는 태그를 하나 요소로 생성하여 새롭게 섀도우 돔에 붙여보자.")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" testAnchor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ntestAnchor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerText "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Testing Anchor..."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nshadow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("testAnchor"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// shadowElement가 아닌 shadow에 붙여야함.")]),t._v("\n")])])]),s("p",[t._v("생성한 "),s("code",[t._v("testAnchor")]),t._v("에 스타일이 적용되는 것을 확인할 수 있다.")]),t._v(" "),s("img",{attrs:{src:a(374)}})])}),[],!1,null,null,null);s.default=e.exports}}]);