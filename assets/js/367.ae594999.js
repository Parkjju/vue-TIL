(window.webpackJsonp=window.webpackJsonp||[]).push([[367],{928:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"라우터-router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#라우터-router"}},[t._v("#")]),t._v(" 라우터(router)")]),t._v(" "),s("p",[t._v("라우터는 컨트롤러와 URL 관리를 쉽게 하도록 도와주는 역할을 한다. 미니 어플리케이션("),s("code",[t._v("mini-application")]),t._v(")을 만든다고 할 수 있다.")]),t._v(" "),s("p",[t._v("구현하는 서비스의 기능별로 URL을 구분짓는다고 가정해보면")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/join -> 회원가입\n/login -> 로그인\n/search -> 검색페이지\n\n/edit -> 회원정보 수정 페이지\n/delete -> 회원 탈퇴\n...\n")])])]),s("p",[t._v("위와 같이 나눌 수 있다. 하지만 삭제 및 수정 기능의 경우 유저에 대한 관리도 있지만 다른 업로드 컨텐츠(영상 및 사진)들에 대해서도 똑같이 적용되게 된다."),s("br"),t._v("\n이를 깔끔히 정리하기 위해 라우터가 필요하다.")]),t._v(" "),s("div",{staticClass:"language-text extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("/users/edit -> 회원정보 관리\n/users/delete -> 회원탈퇴\n\n/videos/watch -> 영상 페이지\n/videos/edit -> 영상 수정\n...\n")])])]),s("p",[t._v("정리하면, 라우터는 작업중인 주제별로 URL을 나누어 관리한다.")]),t._v(" "),s("p",[t._v("특정 주제로 묶이지 않는 라우터, 가령 위의 예시에서 "),s("code",[t._v("/join")]),t._v(", "),s("code",[t._v("/login")]),t._v("들은 "),s("strong",[t._v("글로벌 라우터")]),t._v("라고 한다. "),s("code",[t._v("join")]),t._v("이나 "),s("code",[t._v("login")]),t._v("같은 경우 유저 라우터에서 관리될 수도 있겠지만 외부에서 접근하는 입장을 고려했을 때 몇가지 라우터들은 기능 측면에서 벗어나 마케팅 측면에서 고려해야할 때도 있다.")]),t._v(" "),s("h2",{attrs:{id:"라우터-제작"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#라우터-제작"}},[t._v("#")]),t._v(" 라우터 제작")]),t._v(" "),s("p",[s("code",[t._v("express")]),t._v("패키지를 이용하여 라우터를 제작하는 예시 코드는 다음과 같다.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" videoRouter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" express"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Router")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 라우터 생성")]),t._v("\n\napp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/videos'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" videoRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("handleWatchVideo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Watch Video'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvideoRouter"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/watch'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" handleWatchVideo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ol",[s("li",[s("code",[t._v("express")]),t._v("모듈의 라우터 메서드를 호출하여 비디오 관련 API를 관리하는 라우터를 생성한다.")]),t._v(" "),s("li",[t._v("express 앱의 "),s("code",[t._v("use")]),t._v(" 메서드로 라우터의 URL을 등록한다.")]),t._v(" "),s("li",[t._v("직접 만든 라우터가 "),s("code",[t._v("myRouter")]),t._v("라고 할 때, "),s("code",[t._v("myRouter.get")]),t._v(" 메서드를 호출하고 서브 URL들을 컨트롤 해줄 컨트롤러들을 콜백함수로 전달한다.")])]),t._v(" "),s("p",[t._v("라우터를 사용하게 되면 같은 곳으로부터 뻗어져 나오는 URL에 대하여 "),s("code",[t._v("expressApp.get")]),t._v(" 메서드를 여러번 호출하지 않아도 된다는 장점이 있다.")])])}),[],!1,null,null,null);s.default=e.exports}}]);