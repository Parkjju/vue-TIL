---
title: 2022/02

---
# 2022년 1월, Monthly I Learned

## 2/4

1. HGG FE 회의 진행
2. 스토리북 사용법 정리

## 2/6

1. Hufs Missing Semester 강의자료 마무리
   * 터미널 설정 추가자료
   * VScode 단축키 정리 + 익스텐션
2. 코드라이언 파이썬

## 2/7

1. 코드라이언 파이썬 심화
   * 웹 크롤링
   * API활용하여 날씨정보 받아오기

### 크롤러 알아보기

웹 크롤러 → 웹 페이지의 데이터를 모아주는 소프트웨어

### 블록 조립 키트

크롤링을 위한 외부 모듈을 설치하자

```python
pip install requests # requests라는 모듈을 설치한다. 
```

리퀘스트 모듈을 임포트하자

(파이썬 함수를 통해 → 반복되는 작업을 효율적으로 수행할 수 있다 !)

(파이썬 모듈은 파이썬 함수를 모아두는 파일이라고 이해해두자)

### 블록 조립 키트 사용법

모듈에서 원하는 함수를 꺼내어 사용하자 !

`requests` 모듈에서 `get` 함수를 꺼내어 사용하자 !

### 요청하고 응답받기

`requests.get(url)` 함수는 GET 요청을 보내는 기능을 한다

요청에 대해서는 **응답이 존재한다!**

파이썬 `requests.get()` 함수는 서버에 url정보를 요청하고 서버는 이에 대한 응답을 전달한다

### 요청하고 응답받기 2

`requests.get(url)` → `return : requests.response`

### 요청하고 응답받기 3

```python
import requests

url = "https://www.naver.com"
print(requests.get(url)) # Response 200 - 성공적인 응답

response = requests.get(url)
print(response.text) # html 코드가 나타난다 !

print(response.url) # url이 출력된다 !

print(response.content) # html 코드가 나타난다!

print(response.encoding) # ISO-8859-1 뭔지모를 코드가 나타난다!

print(response.headers) # HTTP헤더 정보가 나타난다 !

print(response.ok) # 정상 응답 여부를 출력한다!

print(response.status_code) # 상태 코드를 출력한다 !
```

### Beautiful Soup 1

`Beautiful Soup` → 모듈이 아닌 bs4 모듈에 속한 특정 함수이다!

```python
import requests
from bs4 import BeautifulSoup

print(BeautifulSoup(response.text, 'html.parser')) 
```

뷰티풀 숲으로 출력한 데이터는 `response.text` 와 어떤 부분이 다를까

### Beautiful Soup 2

```python
print(type(response.text)) # <class 'str'>
print(type(BeautifulSoup(response.text, 'html.parser')) # <class 'bs4.BeautifulSoup'>
```

HTML은 단순 문자열이다 ! `response.text`로 얻어낸 HTML은 문자열이기 때문에 스트링 클래스 타입이고

후자는 이 문자열을 BeautifulSoup가 요구하는 형태로 모아두었기 때문에 bs4.BeautifulSoup 타입이 된다

### Beautiful Soup 3

`BeautifulSoup(데이터, 파싱방법)` → 데이터에는 HTML과 XML이 올 수 있다 !

파싱 방법은 파이썬에 내장된 HTML파서를 이용하자 !

```python
soup = BeautifulSoup(response.text, 'html.parser')
print(soup.title) # 수프에 담긴 타이틀 태그를 출력하자
```

### Beautiful Soup 4

수프는 원하는 태그를 출력할 수 있다 !

`findAll`메서드를 활용하면 원하는 태그 요소 전체를 출력할 수 있다 !

```python
print(soup.title)
print(soup.title.string)
print(soup.span)
print(soup.findAll('span'))
```

### Beautiful Soup 5

수프로 받아온 HTML 문자열을 실제 파일에 받아보자

```python
file = open("daum.html", "₩")
file.write(response.text)
file.close()
```

`link_favorsch` 클래스를 갖는 `<a></a>` 태그가 실시간 검색어 태그이다 !

### Beautiful Soup 6

`<a></a>` 태그 전체 요소를 가져오기 위해 `soup.findAll('a')` 메서드를 사용하자!

a태그내에 특정 클래스를 가진 a태그만 뽑아오기 위해서는 `findAll`메서드 두 번째 파라미터로 `className`을 전달한다 !

```python
print(soup.findAll('a', 'link_favorsch')
```

실시간 검색어 내에 문자열만 제외하고 나머지 요소들을 제거해보자 !

### 예쁘게 출력하기

```python
import datetime import datetime

results = soup.findAll('a', 'link_favorsch')
rank = 1

print(datetime.today()) # 오늘

for result in results:
	print(rank, "위: ",result.get_text(), "\n") # n위: 검색어n위
	rank+=1
```