---
title: SwiftUI - 레이아웃
---

## HStack

컴포넌트들을 수평으로 leading to trailing 방향으로 배치한다.

```swift
var body: some View {
    HStack(alignment: .center,spacing: 0) {
        Text("HI")
        Text("HI")
    }
    .frame(maxWidth: .infinity, maxHeight: .infinity)
}
```

1. 스택 이니셜라이저의 `alignment`를 통해 배치 가능
2. `spacing`으로 기본 설정되어 있는 요소 간격 설정
3. `frame` 모디파이어를 통해 너비 및 높이 설정 가능, `maxWidth` & `maxHeight` `.infinity`로 설정시 화면 기준 차지할 수 있는 최대값으로 지정됨

## VStack

컴포넌트들을 위에서 아래로 배치한다. `maxWidth` 프레임값 지정을 할때 요소들 중 고유 사이즈값이 가장 큰 요소를 기준으로 배치되기 때문에, `leading` 배치를 `maxWidth: .infinity` 기반으로 배치했을때 화면 왼쪽으로 붙지 않고 가장 너비가 긴 요소를 기준으로 좌측에 배치된다.

```swift
var body: some View {
    VStack(alignment: .leading, spacing: 20) {
        heart
        club
        spade
        diamond
    }
    .frame(maxWidth: .infinity, maxHeight: .infinity)
```

![3-1](../.vuepress/assets/swiftUI/3-1.png)

화면 기준으로 왼쪽에 붙이려면 스페이서를 활용하는 패턴을 사용한다.

```swift
var body: some View {
    HStack {
        VStack(alignment: .leading, spacing: 20) {
            heart
            club
            spade
            diamond
        }
        .frame(maxHeight: .infinity)

        Spacer()
    }
}
```

![3-2](../.vuepress/assets/swiftUI/3-2.png)

## ZStack

나중에 추가한 뷰가 먼저 추가한 뷰의 위에 쌓이는 형태로 배치된다. `ZStack` 이니셜라이저에서 제공하는 `alignment` 초기 배치 레이아웃에서 고유사이즈가 가장 큰 대상 기준으로 센터 배치가 된다.

```swift
var body: some View {
    ZStack(alignment: .topLeading) {
        heart
        club
        spade
        diamond
            .offset(x: 100, y: 100)
    }
}
```

`topLeading` 등 여러 방식으로 배치 가능하다. 스택 내에 배치되는 요소에 대해 `offset` 모디파이어를 사용하면 커스텀 배치도 가능하다.

## LazyStacks

스택은 기본적으로 스크롤뷰를 지원하지 않는다. 스택뷰에 스크롤을 적용하려면 `ScrollView`에 임베딩만 하면 된다. 문제는 스택뷰의 초기화 시점이다.

```swift
var body: some View {
    ScrollView(.horizontal) {
        HStack {
            ForEach(1 ..< 101) { num in
                NumberView(number: num)
            }
        }
    }
}
```

위와 같이 뷰를 구성하면 100개의 뷰가 `body`속성 계산 시점에 한번에 생성된다. `NumberView` 내부 구성에 이미지 처리와 같이 메모리를 사용하는 경우면 큰 오버헤드가 발생한다.

따라서 이러한 경우 스크롤 시점에 동적으로 초기화시키기 위해 `LazyHStack`, `LazyVStack`을 사용한다.

```swift
var body: some View {
    ScrollView(.horizontal) {
        LazyHStack { // Lazy!
            ForEach(1 ..< 101) { num in
                NumberView(number: num)
            }
        }
    }
}
```

스크롤뷰에는 섹션을 추가할 수 있다. `SectionHeaderView`는 커스텀 뷰이다.

```swift
var body: some View {
    ScrollView {
        LazyVStack {
            Section {
                EmojiView(emoji: "😀")
                EmojiView(emoji: "😍")
                EmojiView(emoji: "😎")
            } header: {
                SectionHeaderView(title: "HI")
            }
        }
        .frame(maxWidth: .infinity)
    }
}
```

`LazyVStack` 이니셜라이저에 sticky 헤더 & 풋터를 사용할 수 있다. `pinnedViews` 배열 아규먼트에 `.sectionHeaders` & `.sectionFooters` 열거형을 전달하면 된다.

```swift
LazyVStack(pinnedViews: [.sectionHeaders]) {
    Section {
        EmojiView(emoji: "😀")
        EmojiView(emoji: "😍")
        EmojiView(emoji: "😎")
    } header: {
        SectionHeaderView(title: "EMOJI")
    }
```
