---
title: SwiftUI - Lists
---

## List

SwiftUI에서 리스트는 UIKit에서의 테이블뷰와 동일한 역할을 한다. 리스트로 표시할 데이터를 `List`에 임베딩하기만 하면 끝이다.

한 셀에 여러 데이터를 넣어야 하는 경우 스택에 임베딩하면 된다.

```swift
List {
    VStack {
        Text("Hello, World!")
        Text("Hello, World!")
    }
    Text("Hello, World!")
    Image(systemName: "star")
}
```

리스트에 임베딩할 뷰의 타입이 동일할 필요는 없다. 위코드처럼 텍스트뷰와 이미지뷰를 섞어도 된다.

리스트를 데이터 기반으로 동적 표현을 할때 데이터를 전달하게 되는데, 해당 데이터 모델이 `Identifiable`프로토콜을 채택하거나 `id` 파라미터에 키패스 형태로 속성을 전달해도 된다.

```swift
// id값으로 사용할 속성을 키패스로 전달
List(items, id: \.name) { item in
    Text(item.name)
}
```

## Identifiable

`List`로 표현할 데이터는 `Identifiable`프로토콜을 필수적으로 채택한 모델이어야 하고, `List`에서 사용하는 API들이 일반적으로 해셔블 프로토콜을 요구하므로 `Hashable`프로토콜까지 채택하는 것이 일반적이다.

`Identifiable`프로토콜은 `id`속성을 구현해야 하고, 해당 속성은 해셔블 프로토콜을 채택한 타입이어야 한다. 해셔블 프로토콜을 채택한 데이터는 간단한 숫자 데이터로 표현 가능하게 된다. (일반적으로 제공되는 `hashValue`와 같은 속성들)

## Section

섹션으로 구분된 리스트들은 `Section`으로 표현 가능하다.

```swift
List {
    Section("SECTION") {
        Text("1")
        Text("2")
    }

    Section {
        Text("3")
        Text("4")
        Text("5")
    } header: {
        Text("HEADER")
    } footer: {
        Text("FOOTER")
    }
}
```

데이터 구조에 따라 섹션으로 구분된 리스트를 구현하려면 `ForEach`를 적절히 섞어준다.

```swift
struct CategorizedProduct: Identifiable, Hashable {
    let id = UUID()
    let header: String
    let footer: String?
    let list: [AppleProduct]
}
```

```swift
List {
    ForEach(items) { section in
        Section {
            ForEach(section.list) { item in
                Text(item.name)
            }
        } header: {
            Text(section.header)
        } footer: {
            Text(section.footer ?? "Footer")
        }
    }
}
```

## Customizing Lists

`.listStyle` 모디파이어로 리스트의 스타일을 조정할 수 있다. 기본 리스트 스타일은 `insetGrouped`이다.

셀에 여백을 추가하려면 리스트에 임베딩된 요소에 `listRowInsets`을 추가한다. `UIEdgeInsets`을 전달하면 된다. `padding`모디파이어도 사용 가능하다.

```swift
List {
    Section() {
        Text("List Row Insets")
            .listRowInsets(.init(top: 10, leading: 10, bottom: 10, trailing: 10))
    }
}
```

인셋이 모든 섹션 내의 셀에 적용될 예정이라면 각 셀 요소가 아닌 `Section`에 직접 모디파이어를 심어도 된다. `Section`에 전체 셀 인셋을 부여하고 내부에 다시 인셋을 추가하면, 내부가 우선순위가 더 높다. `List`에 심는 인셋 모디파이어는 적용되지 않는다.

리스트에 백그라운드도 추가할 수 있는데, `View`를 모디파이어의 파라미터로 받기 때문에 직접 정의된 뷰를 전달해도 되지만 일반적으로 `Color`를 전달한다.

```swift
List {
    Section() {
        Text("List Row Background")
            .listRowBackground(Color.yellow)
        Text("List Row Separator")
                    .listRowSeparator(.hidden)
    }
}
```

셀 구분선은 `.listRowSeparator` 모디파이어로 조정 가능하다. `visibility`값을 `hidden`이나 `visible`로 조정하면 된다. `listRowSeparator`모디파이어는 `visiblity`외에도 `edges`파라미터를 갖는데, 이는 구분선을 숨기거나 표시할 위치를 지정하는데에 사용된다. `edges` `top`이나 `bottom`, `all`을 지정할 수 있다.

```swift
List {
    Section() {
        Text("List Row Separator")
            .listRowSeparator(.hidden)
    }
}
```

`.listRowSeparatorTint` 모디파이어를 사용하면 구분선 색을 변경할 수 있다. 해당 모디파이어도 동일하게 `edges`를 지정할 수 있다.

`Section`의 `header` 클로저를 사용하면 헤더 뷰를 커스텀 할 수도 있다.

```swift
Section() {
    Text("Custom Header")
} header: {
    CustomHeaderView(title: "title", imageName: "star") // 커스텀 뷰
}
```
