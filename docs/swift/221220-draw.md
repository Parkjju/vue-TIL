---
title: Swift - 앱 제작
---

## 화면을 그리는 방식

웹은 마크업 언어를 통해 화면을 그리고 DOM 조작 등의 내부기능들은 모두 자바스크립트를 통해 이루어지는데 이는 화면을 그리는 메커니즘과 실제 동작의 메커니즘이 분리되어 있음을 나타낸다.

웹은 브라우저 엔진 위에서 동작하며 운영체제와는 완전 독립적이다.

반면 iOS는 오브젝트를 올려놓고 배치하며 오브젝트들의 속성과 메서드가 모두 내장되어 있다. 한 클래스에 화면을 그리는 메커니즘과 내부 동작(메서드)이 공존하는 형태이다.

:::tip viewDidLoad 시점에서 UI그리기

`viewDidLoad` 함수 호출시 초기 UI 세팅에 필요한 코드들은 외부 함수로 꺼내 정리하는것이 일반적이다.

```swift
import UIKit

class ViewController: UIViewController {

    @IBOutlet weak var mainLabel: UILabel!

    override func viewDidLoad() {
        super.viewDidLoad()
        // Do any additional setup after loading the view.

        configureUI()
    }

    func configureUI(){
        mainLabel.text = "초를 선택하세요 ☺️"
    }
}
```

:::

## 슬라이더

UISlider 컴포넌트를 스토리보드에서 끌어다가 코드 영역에 두면 이벤트 선택이 가능하다. 슬라이더에서 사용되는 각종 이벤트들 중 `value changed` 이벤트를 사용하면 값이 변할때마다 어떤 함수를 실행할지 동작을 정의할 수 있다.

```swift
@IBOutlet weak var slider: UISlider!

@IBAction func buttonTapped(_ sender: UIButton) {
    slider.setValue(0.5, animated:true) // 슬라이더 중간 설정 및 애니메이션 효과 추가
}
```

:::tip 타이머
타이머는 아래와 같이 사용한다. 방법이 다양하므로 다른 문서 참조가 더 필요함

```swift
class ViewController: UIViewController {
    // ...

    var timer = Timer() // 타이머 객체 생성

        @IBAction func startButtonTapped(_ sender: UIButton) {
        // 시작버튼 클릭시 기존 타이머가 있었다면 비활성화
        timer.invalidate()

        // scheduledTimer 메서드 사용
        // withTimeInterval, repeats, block 파라미터를 사용하고 다른 구성도 존재한다
        // block은 클로저를 받는다
        timer = Timer.scheduledTimer(withTimeInterval: 1, repeats: true, block: { [self] _ in

            if(number > 0){
                number -= 1
                slider.setValue(Float(number) / Float(60), animated: true)
                mainLabel.text = "\(number) 초"
            }else{
                timer.invalidate()
                mainLabel.text = "🔥 타임아웃 🔥"
                AudioServicesPlayAlertSound(SystemSoundID(1300))
            }

        })
    }
}
```

클래스 내에서 Timer객체를 생성한 뒤 특정 이벤트에 따라 타이머가 생성되고 실행되는 과정에서 `invalidate`을 잘 시켜줘야 한다.

block 파라미터에 클로저 형태로 동작을 정의할 수 있다.

기호에 따라 `AVFoundation` 프레임워크를 임포트 하고, `AudioServicesPlayAlertSound` 메서드를 실행하며 `SysteSoundID(사운드 아이디값)`객체를 파라미터로 전달하면 타이머 끝남과 동시에 시스템 사운드를 재생할 수 있다.

:::
