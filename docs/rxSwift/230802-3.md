---
title: RxSwift - Creating Operators
---

ì˜µì €ë²„ë¸” ìƒì„±ì— ì‚¬ìš©ë˜ëŠ” ì—°ì‚°ìë“¤ì„ ì •ë¦¬í•œë‹¤.

## just, of, forms

justëŠ” ì˜µì €ë²„ë¸” ìƒì„±ì‹œ ì „ë‹¬ëœ íŒŒë¼ë¯¸í„° ê°’ì„ ê·¸ëŒ€ë¡œ ì´ë²¤íŠ¸ë¡œ ì „ë‹¬í•œë‹¤. í•œ ê°œì˜ ê°’ë§Œ ì´ë²¤íŠ¸ë¡œ ë°©ì¶œí•  ìˆ˜ ìˆë‹¤.

```swift
let element = "ğŸ˜€"

Observable.just(element)
    .subscribe{ event in print(event) } // next(ğŸ˜€)
    .disposed(by: disposeBag)

Observable.just([1,2,3])
    .subscribe{ event in print(event) } // next([1,2,3])
    .disposed(by: disposeBag)
```

ofëŠ” ì˜µì €ë²„ë¸” ìƒì„±ì‹œ ì—¬ëŸ¬ê°œì˜ ê°’ì„ ì´ë²¤íŠ¸ë¡œ ë°©ì¶œí•  ìˆ˜ ìˆë‹¤. of ë©”ì„œë“œëŠ” ê°€ë³€ íŒŒë¼ë¯¸í„°ë¡œ ì„ ì–¸ë˜ì–´ìˆë‹¤.

```swift
Observable.of(1,2,3)
    .subscribe{ event in print(event) } // next(1), next(2), next(3)
    .disposed(by: disposeBag)

Observable.of([1,2], [3])
    .subscribe{ event in print(event) } // next([1,2]), next([3])
    .disposed(by: disposeBag)
```

from ì—°ì‚°ìëŠ” ì˜µì €ë²„ë¸” ìƒì„±ì‹œ íŒŒë¼ë¯¸í„°ë¡œ ìˆœíšŒ ê°€ëŠ¥í•œ ë°ì´í„°ë¥¼ ë°›ì•„ ìˆœì„œëŒ€ë¡œ ì´ë²¤íŠ¸ë¡œ ë°©ì¶œí•œë‹¤.

```swift
Observable.from([1,2,3])
    .subscribe{ element in print(element) } // next(1), next(2), next(3)
    .disposed(by: disposeBag)
```

## range, generate

`range`ëŠ” ì •ìˆ˜ë¥¼ ì‹œì‘ì§€ì ë¶€í„° countì— í•´ë‹¹í•˜ëŠ” ê°’ë§Œí¼ 1ì”© ì¦ì¹´ì‹œì¼œ ì´ë²¤íŠ¸ë¡œ ë°©ì¶œí•œë‹¤.

```swift
Observable.range(start: 1, count: 10)
    .subscribe{ print($0) } // next(1), next(2) ... next(10)
    .disposed(by: disposeBag)
```

`generate`ëŠ” ì‹œì‘ì§€ì ë¶€í„° ê°’ì˜ ë³€í™” ì–‘ìƒì„ ì •ì˜í•˜ê³ , í•¨ê»˜ ì •ì˜ëœ ì¡°ê±´ì´ trueì¸ ê°’ë“¤ë§Œ ì´ë²¤íŠ¸ë¡œ ë°©ì¶œí•œë‹¤.

ì•„ë˜ëŠ” 2ì´ìƒ 10 ì´í•˜ì˜ ì§ìˆ˜ì˜ ê°’ë“¤ë§Œ ì¶œë ¥í•´ì£¼ëŠ” ì˜µì €ë²„ë¸”ì´ë‹¤. `condition` íŒŒë¼ë¯¸í„°ê°€ falseê°€ ë˜ë©´ `onCompleted`ê°€ í˜¸ì¶œë˜ë©° ì¢…ë£Œëœë‹¤.

```swift
Observable.generate(initialState: 2, condition: { $0 <= 10 }, iterate: { $0 + 2 })
    .subscribe{ print($0) }
    .disposed(by: disposeBag)
```

## repeatElement

ë™ì¼ìš”ì†Œë¥¼ ë°˜ë³µì ìœ¼ë¡œ ë°©ì¶œí• ë•Œ ì‚¬ìš©í•˜ëŠ” ì—°ì‚°ìì´ë‹¤.

```swift
Observable.repeatElement(element)
    .take(7)
    .subscribe{ print($0) }
    .disposed(by: disposeBag)
```

:::warning repeatElementëŠ” ë°˜ë“œì‹œ takeì—°ì‚°ìì™€ í•¨ê»˜ ì‚¬ìš©!

`repeatElement`ëŠ” takeì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë©´ ë¬´í•œí•˜ê²Œ ìš”ì†Œë¥¼ ë°©ì¶œí•œë‹¤. `take`ì—°ì‚°ìë¥¼ í†µí•´ ëª‡ê°œê¹Œì§€ ë°©ì¶œí• ì§€ ë°˜ë“œì‹œ ê²°ì •í•´ì¤˜ì•¼ í•œë‹¤.

:::

## deferred

`deferred`ëŠ” íŠ¹ì • ì¡°ê±´ì— ë”°ë¼ ì˜µì €ë²„ë¸”ì„ ìƒì„±í•œë‹¤.

```swift
let animals = ["ğŸ¶", "ğŸ±", "ğŸ¹", "ğŸ°", "ğŸ¦Š", "ğŸ»", "ğŸ¯"]
let fruits = ["ğŸ", "ğŸ", "ğŸ‹", "ğŸ‡", "ğŸˆ", "ğŸ“", "ğŸ‘"]
var flag = true

let factory: Observable<String> = Observable.deferred {
    flag.toggle()

    if(flag){
        return Observable.from(animals)
    } else {
        return Observable.from(fruits)
    }
}

// flag - false - fruitsê°€ ë°©ì¶œ
factory
    .subscribe{ print("factory >> ", $0)}
    .disposed(by: disposeBag)

// flag - true - animalsê°€ ë°©ì¶œ
factory
    .subscribe{ print("factory >> ", $0)}
    .disposed(by: disposeBag)
```

`deferred`ëŠ” ì˜µì €ë²„ë¸”ì„ ë¦¬í„´í•˜ëŠ” í´ë¡œì €ë¥¼ ë©”ì„œë“œ íŒŒë¼ë¯¸í„°ë¡œ ë°›ëŠ”ë‹¤. ìœ„ì˜ ì½”ë“œì—ì„œëŠ” `deferred`í˜¸ì¶œì— ë”°ë¼ `toggle`ë˜ë¯€ë¡œ ë¦¬í„´ë˜ëŠ” ì˜µì €ë²„ë¸”ì˜ ê°’ì´ ë‹¬ë¼ì§€ê²Œ ëœë‹¤.

## create

`create`ì—°ì‚°ìëŠ” ì˜µì €ë²„ë¸”ì˜ ë™ì‘ì„ ì™„ì „íˆ ì»¤ìŠ¤í…€í•˜ê³ ì‹¶ì„ë•Œ ì‚¬ìš©í•œë‹¤. ìœ„ì—ì„œì˜ ì˜µì €ë²„ë¸”ë“¤ì€ ì •ìˆ˜ì˜ ì¦ê°€, íŠ¹ì • ìš”ì†Œì˜ ì„ íƒ ë“± ê³ ì •ë˜ì–´ ìˆëŠ” í˜•íƒœë¡œ ì—°ì‚°ì´ ì§„í–‰ë˜ì—ˆì§€ë§Œ `create`ëŠ” ì²˜ìŒë¶€í„° ëê¹Œì§€ ì§ì ‘ ë™ì‘ì— ëŒ€í•œ ì •ì˜ê°€ ê°€ëŠ¥í•˜ë‹¤.

```swift
let observable = Observable<String>.create{ (observer) -> Disposable in
    guard let url = URL(string: "https://www.apple.com") else {
        observer.onError(MyError.error)
        return Disposables.create()
    }

    guard let html = try? String(contentsOf: url, encoding: .utf8) else {
        observer.onError(MyError.error)
        return Disposables.create()
    }

    observer.onNext(html)
    observer.onCompleted()
    return Disposables.create()
}

observable.subscribe{ print($0) }
    .disposed(by: disposeBag)
```

`create` ì—°ì‚°ì í´ë¡œì €ë¥¼ êµ¬í˜„í• ë•ŒëŠ” ë°˜ë“œì‹œ `onComplete` ì´í›„ì— ì´ë²¤íŠ¸ ë°©ì¶œì´ ì´ë£¨ì–´ì§€ì§€ ì•Šë„ë¡ í•´ì•¼í•œë‹¤. `onError`ë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.

`create` ì—°ì‚°ìì˜ í´ë¡œì € íŒŒë¼ë¯¸í„°ëŠ” í•¨ìˆ˜íƒ€ì…ì´ë‹¤. íŒŒë¼ë¯¸í„°ë¡œ `AnyObserver`ê°€ ë“¤ì–´ì˜¤ë©°, `Disposable`ì„ ë¦¬í„´í•œë‹¤.

:::warning return Disposables.create()

í´ë¡œì € íŒŒë¼ë¯¸í„°ì˜ ë¦¬í„´í˜•ì´ `Disposable`ì´ë¼ê³  í•˜ì—¬ `return Disposable.create()`ë¥¼ í•˜ë©´ ì•ˆëœë‹¤. ë°˜ë“œì‹œ `s`ë¥¼ ë¶™ì—¬ `Disposables.create()`ë¥¼ ë¦¬í„´í•´ì¤˜ì•¼ í•œë‹¤.

:::

## empty, error

`empty`ëŠ” ì–´ë– í•œ ê²ƒë„ ë°©ì¶œí•˜ì§€ ì•ŠëŠ” ì˜µì €ë²„ë¸”ì„ ì •ì˜í• ë•Œ ì‚¬ìš©í•œë‹¤. ìš”ì†Œë¥¼ ë°©ì¶œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— íƒ€ì…ì€ `Void`ë¡œ ì§€ì •í•œë‹¤.

```swift
Observable<Void>.empty()
    .subscribe{ print($0) } // completed
    .disposed(by: disposeBag)
```

`error` ì—­ì‹œ ì–´ë–¤ ìš”ì†Œë„ ë°©ì¶œí•˜ì§€ ì•Šìœ¼ë©°, ì—ëŸ¬ë¥¼ ë¦¬í„´í•˜ëŠ” ì˜µì €ë²„ë¸”ì„ ì •ì˜í• ë•Œ ì‚¬ìš©í•œë‹¤.

```swift
Observable<Void>.error(MyError.error)
    .subscribe{ print($0) }
    .disposed(by: disposeBag)
```
