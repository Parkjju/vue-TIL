---
title: BOJ 1285 - 동전 뒤집기 (Swift)
tags: ['Algorithm']
---

[문제 링크](https://www.acmicpc.net/problem/1285)

## 풀이

1. 비트마스킹을 통해 각 행에 T 면인 경우 비트를 켜는 것으로 생각한다.

```text
===from===
HHT
THH
THT
==========

===to===
001 => 4
100 => 1
101 => 1 + 4
========
```

2. 각 행을 정수 값으로 변환한다.
3. 행을 뒤집는 모든 경우의 수에 따라 열을 뒤집는 최적해는 자동으로 결정된다.
4. go 함수 실행
5.

```swift
import Foundation
var n: Int = 0
var a = [Int](repeating: 0, count: 44)
var ret = Int.max

func go(_ here: Int) {
    if here == n + 1 {
        var sum = 0
        var i = 1
        while i <= (1 << (n - 1)) {
            var cnt = 0
            for j in 1...n {
                if a[j] & i != 0 {
                    cnt += 1
                }
            }
            sum += min(cnt, n - cnt)
            i *= 2
        }
        ret = min(ret, sum)
        return
    }
    go(here + 1)
    a[here] = ~a[here]
    go(here + 1)
}

if let input = readLine() {
    n = Int(input) ?? 0
}

for i in 1...n {
    if let s = readLine() {
        var value = 1
        for char in s {
            if char == "T" {
                a[i] |= value
            }
            value *= 2
        }
    }
}

go(1)
print(ret)
```
