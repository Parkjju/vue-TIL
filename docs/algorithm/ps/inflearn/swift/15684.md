---
title: BOJ 15684 - 사다리 조작
tags: ['Algorithm']
---

[문제 링크](https://www.acmicpc.net/problem/15684)

## 문제

```swift
import Foundation

let nmh = readLine()!.split(separator: " ").map { Int($0)! }; let n = nmh[0]; let m = nmh[1]; let h = nmh[2]
var visited: [[Int]] = .init(repeating: .init(repeating: 0, count: 34), count: 34)
var ret = Int.max

// visited는 놓인 사다리 가로선
func check() -> Bool {
    for i in 1...n {
        var start = i
        for j in 1...h {
            // 가로선이 놓여있으면 이동
            if visited[j][start] == 1 {
                start += 1
            } else if visited[j][start - 1] == 1 {
                start -= 1
            }
        }

        if start != i { return false }
    }
    return true
}

func go(_ here: Int, _ cnt: Int) {
    if cnt > 3 || cnt >= ret { return }
    if check() {
        ret = min(ret, cnt)
        return
    }

    for i in here...h {
        for j in 1...n {
            if visited[i][j] == 1 || visited[i][j-1] == 1 || visited[i][j+1] == 1 { continue }
            visited[i][j] = 1

            go(i, cnt + 1)

            visited[i][j] = 0
        }
    }
}

for _ in 0..<m {
    let ab = readLine()!.split(separator: " ").map { Int($0)! }
    visited[ab[0]][ab[1]] = 1
}

go(1, 0)

print(ret == Int.max ? -1 : ret)
```
