---
title: ES6 ë¹„ë™ê¸° ì²˜ë¦¬ (2)
---

## ë¹„ë™ê¸° ì²˜ë¦¬

ë¹„ë™ê¸° ì²˜ë¦¬ì—ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì´ ì¡´ì¬í•œë‹¤. ì½œë°±í•¨ìˆ˜, í”„ë¼ë¯¸ìŠ¤, ì œë„ˆë ˆì´í„°, ì–´ì‹±í¬ ì–´ì›¨íŠ¸ ë“±ì˜ ê²ƒë“¤ì´ ê·¸ ì˜ˆì‹œê°€ ëœë‹¤.

[Cracking Vue.js - í”„ë¼ë¯¸ìŠ¤ì— ëŒ€í•œ ê¸€ì„ ì°¸ì¡°í•˜ì.](https://joshua1988.github.io/vue-camp/es6+/promise.html#%E1%84%91%E1%85%B3%E1%84%85%E1%85%A1%E1%84%86%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF-%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A2%E1%84%8B%E1%85%A3-%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB-%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%B2) (ë‚´ê°€ ì‘ì„±í•¨ ğŸ˜‰)

ì¼ë ¨ì˜ ê°’ë“¤ì„ ë¹„ë™ê¸°ì ì¸ ì½”ë“œë¡œ ì„¤ì •ëœ ìƒíƒœë¡œ ê³±í•˜ì—¬ ìµœì¢… ê°’ì„ ì‚°ì¶œí•˜ëŠ” ì½”ë“œë¥¼ ì½œë°± í•¨ìˆ˜, í”„ë¼ë¯¸ìŠ¤, ì œë„ˆë ˆì´í„°ë¡œ êµ¬í˜„í•´ë³¸ë‹¤.

## 1. ì½œë°± í•¨ìˆ˜

```js
setTimeout(
  (x) => {
    let result = x;

    console.log(result);

    setTimeout(
      (x) => {
        result *= x;

        console.log(result);

        setTimeout(
          (x) => {
            result *= x;
            console.log(result);
          },
          1000,
          30
        );
      },
      1000,
      20
    );
  },
  1000,
  10
);
// ì½œ ë°± ì§€ ì˜¥
```

A í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” íë¦„ ì†ì— B í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³ , ê·¸ ì†ì—ì„œ C í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  ... ì´ëŸ° íë¦„ì´ ì¤‘ì²©ë˜ëŠ” ê²ƒì´ ì½œë°± ì§€ì˜¥ì´ë‹¤.

<figure>

![callback](../.vuepress/assets/javascript/callback.png)

<figcaption>

ì¶œì²˜: https://adrianalonso.es/desarrollo-web/apis/trabajando-con-promises-pagination-promise-chain/

</figcaption>

</figure>

## 2. í”„ë¼ë¯¸ìŠ¤

1. `new Promise()`ë¥¼ í˜¸ì¶œí•œë‹¤. í˜¸ì¶œí•˜ë©´ **ëŒ€ê¸°(pending)**ìƒíƒœê°€ ëœë‹¤.
2. ëŒ€ê¸°ìƒíƒœê°€ ë˜ë©´ **ì½œë°± í•¨ìˆ˜ë¥¼ ì„ ì–¸í•  ìˆ˜ ìˆê³ ** ì¸ìë¡œ `resolve`, `reject`ë¥¼ ë°›ëŠ”ë‹¤. ì¦‰ `Promise(resolve, reject)`ì˜ í˜•íƒœë¥¼ ê°–ëŠ” ê²ƒì´ë‹¤.
3. ì½œë°±í•¨ìˆ˜ ë‚´ì—ì„œ ì²˜ë¦¬í•œ ë’¤ `resolve` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ **ì´í–‰(Fulfilled)ìƒíƒœì´ë‹¤.**
4. ì„±ê³µ ì‹œ `.then()`ì´ ë¦¬í„´ê°’ì„ ë°›ì•„ì„œ ê³„ì†í•´ì„œ ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•œë‹¤.

```js
new Promise((resolve, reject) => {
  setTimeout(
    (x) => {
      let result = x;
      console.log(x);

      resolve(result); // resolve ë©”ì„œë“œì˜ ì¸ìê°’ì´ then ë©”ì„œë“œë¡œ ì „ë‹¬ëœë‹¤.
    },
    1000,
    10
  );
}).then((result) => {
  return new Promise((resolve, reject) => {
    setTimeout(
      (x) => {
        console.log(x);
        result *= x;
        console.log(result);

        resolve(result);
      },
      1000,
      20
    );
  });
});
```

**ì½”ë“œë¥¼ ì§ì ‘ ì§œë³´ì**

## 3. ì œë„ˆë ˆì´í„°

ìœ„ì˜ ì˜ˆì‹œë“¤ì²˜ëŸ¼ ê°’ì„ ìˆœì°¨ì ìœ¼ë¡œ ë°›ì•„ ê³±ì…ˆ ì²˜ë¦¬ë¥¼ ì œë„ˆë ˆì´í„°ë¡œ êµ¬í˜„í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

1. `calculator`í•¨ìˆ˜ëŠ” ë‹¨ìˆœ ê³±ì…ˆë§Œ ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤. (nextë©”ì„œë“œë¥¼ í†µí•´ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ì¬í˜¸ì¶œí•´ì•¼í•œë‹¤.)
2. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ ì™¸ë¶€ë¡œë¶€í„° ë‚´ë¶€ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œì—ëŠ” ëª…ì‹œì ì¸ ê°’ìœ¼ë¡œ ì „ë‹¬í•´ì•¼ í•œë‹¤. `next(10)...`

`calculator` êµ¬í˜„ ì „ì— ë‹¤ìŒì˜ ì½”ë“œë¥¼ ë³´ê³  ì½˜ì†”ìƒì— ì¶œë ¥ë˜ëŠ” ê²°ê³¼ë¥¼ ì˜ˆì¸¡í•´ë³´ì.

```js
function* testGenerator() {
  const a = yield 1;
  console.log(a);
}

const iter = testGenerator();
iter.next();
iter.next();
```

:::details í•´ì„¤

ì²« ë²ˆì§¸ `iter.next()`ëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ ì²˜ìŒ í˜¸ì¶œí•˜ì—¬ í•¨ìˆ˜ ì²˜ìŒë¶€í„° ì½”ë“œë¥¼ ì­‰ ì½ëŠ”ë‹¤. ì½ì–´ ê°€ë‹¤ê°€ ì²« `yield`ë¥¼ ë§Œë‚˜ í•¨ìˆ˜ ì™¸ë¶€ë¡œ ì œì–´ê¶Œì„ ì–‘ë„í•œë‹¤. ë”°ë¼ì„œ ì´í›„ì˜ ì½”ë“œëŠ” ë¬´ì‹œëœë‹¤.

ë‘ ë²ˆì§¸ `iter.next()`ëŠ” `next()`ë©”ì„œë“œì˜ ì¸ìë¡œ ê°’ì´ ì „ë‹¬ë˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ ì œë„ˆë ˆì´í„° ë‚´ë¶€ì˜ `a` ë³€ìˆ˜ì—ëŠ” ì–´ë– í•œ ê°’ë„ ì €ì¥ë˜ì§€ ì•ŠëŠ” `undefined` ìƒíƒœê°€ ëœë‹¤. ì´í›„ `console.log`ë¥¼ ë§Œë‚˜ `undefined`ë¥¼ ì¶œë ¥í•˜ê²Œ ëœë‹¤.

:::

ì´ì œ ì œë„ˆë ˆì´í„°ë¡œ ìœ„ì˜ ìˆœì°¨ì  ê³±ì„ êµ¬í˜„í•´ë³´ì. **ì™¸ë¶€ ë°ì´í„°ì¸ calculatorí•¨ìˆ˜ ê²°ê³¼ë¥¼ nextë©”ì„œë“œì— ëª…ì‹œì ìœ¼ë¡œ ì „ë‹¬í•´ì¤˜ì•¼ í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.**

```js
const iter = testGenerator(); // global ìŠ¤ì½”í”„

function calculator(a, b) {
  setTimeout(() => {
    iter.next(a * b);
  }, 1000);
}

function* testGenerator() {
  const a = yield calculator(1, 10);
  console.log(a);

  const b = yield calculator(a, 20);
  console.log(b);

  const c = yield calculator(b, 30);
  console.log(c);
}

// ì¶œë ¥ ì‹œì‘
iter.next(); //í˜¸ì¶œì‹œ ë‚˜ë¨¸ì§€ ê°’ë“¤ì€ ìë™ ì‹¤í–‰
```
