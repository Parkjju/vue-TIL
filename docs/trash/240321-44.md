---
title: Snack 44호 - 포즈피커 프로젝트 클린 아키텍처 적용기
tags: ['Snack', 'Clean Architecture']
---

## 개요

프로젝트 팀원분들은 절대 보채시지 않으셨지만.. 어쩌다 보니 너무 빠른 호흡으로 개발이 진행되어 정말 눈에 보이는 것에만 집중된 개발을 하게 되었다. 유지보수나 앱 전체적인 구조는 크게 고려하지 않고 기능 구현 중심으로 개발을 진행했는데, 그러다 보니

테스트 코드 작성은 물론이거니와 아래와 같은 문제도 발생했다.

![44-1](../.vuepress/assets/snack/44-1.png)

뷰모델에서 데이터를 직접적으로 소유하다 보니 데이터 타입 명세서가 변경되자 마자 미친듯한 에러가 발생하였다. 이것이 유지보수가 고려되지 않은 앱이라는 것을 절실히 깨닫는 지점이었다.

문제를 직접 경험하다 보니 레파지토리 패턴이라던지, 클린 아키텍처 관점에서 도메인과 프레젠테이션, 데이터 형태로 계층을 구분하여 앱을 개발하는 이유를 조금이나마 헤아려볼 수 있었던 것 같다.

이 글에서는 출시 준비중인 포즈피커 앱에 클린 아키텍처를 적용해가는 과정을 정리하려고 한다. 이 글 작성에 많은 도움이 된 [메이트러너 클린 아키텍처 도입기 글을](https://jeonyeohun.tistory.com/305) 꼭 정독하면 좋을 것 같다!

## 가장 간단한 것부터

전체 코드를 뒤엎기 전 어디부터 손대야 할지 결정해야 했다. 현재 포즈피커 앱에서는 네컷 포즈를 단어 형태로 랜덤하게 제공해주는 기능이 있는데, 해당 씬의 경우 데이터 요청 동작이 GET 하나일 뿐 아니라 불러온 인스턴스로부터 `String`값만 추출하여 화면에 바인딩하면 되는게 다라서 여기부터 리팩토링을 하기로 결정했다.

![44-2](../.vuepress/assets/snack/44-2.gif)

## Reference

1. [Template iOS App using Clean Architecture and MVVM](https://github.com/kudoleh/iOS-Clean-Architecture-MVVM)
2. [메이트러너: MVVM + Clean Architecture + RxSwift 도입기](https://jeonyeohun.tistory.com/305)
