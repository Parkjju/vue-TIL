---
title: Snack 45í˜¸ - UIPageViewControllerì— ì½”ë””ë„¤ì´í„° íŒ¨í„´ ì ìš©í•˜ê¸°
tags: ['Snack', 'Clean Architecture', 'í¬ì¦ˆí”¼ì»¤ ê°œë°œ ì´ì•¼ê¸°']
---

í”„ë¡œì íŠ¸ í¬ì¦ˆí”¼ì»¤ ê°œë°œ ì´ì•¼ê¸°ì…ë‹ˆë‹¤! ê¶ê¸ˆí•˜ì‹œë‹¤ë©´ ë†€ëŸ¬ì™€ì£¼ì„¸ìš” :) [[í¬ì¦ˆí”¼ì»¤ ë‹¤ìš´ë°›ê¸°ğŸ”—]](https://apps.apple.com/kr/app/%ED%8F%AC%EC%A6%88%ED%94%BC%EC%BB%A4-%EB%84%A4%EC%BB%B7%EC%82%AC%EC%A7%84-%ED%8F%AC%EC%A6%88%EC%B6%94%EC%B2%9C/id6474260471)

## í˜ì´ì§€ë·° with ì½”ë””ë„¤ì´í„° (feat. MVVM)

ì½”ë””ë„¤ì´í„° íŒ¨í„´ì€ í™”ë©´ ì „í™˜ ë¡œì§ë“¤ì„ ê´€ë¦¬í•˜ëŠ” ê°ì²´ì´ë‹¤. í˜ì´ì§€ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ê²½ìš° í˜ì´ì§€ë·° ë°ì´í„°ë“¤ì˜ ì •ë³´ë“¤ì„ ë‹´ê³  ìˆëŠ” `dataSource`ì— ëŒ€í•œ ì •ë³´, í™”ë©´ ì „í™˜ ë™ì‘ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” `delegate`êµ¬í˜„ ëª¨ë‘ê°€ í•„ìš”í•˜ë‹¤.

MVVM íŒ¨í„´ì— ë”°ë¼ ì•±ì„ ì„¤ê³„í•´ ê°ˆë•Œ ë·°ëª¨ë¸ì˜ ì—­í• ì„ ì •ì˜í•˜ë©´ ë·°ë¡œë¶€í„°ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¡œì§ì„ ë‹´ë‹¹í•œë‹¤ëŠ” ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

í˜ì´ì§€ë·° ê°ì²´ì˜ ë¸ë¦¬ê²Œì´íŠ¸ ë° ë°ì´í„°ì†ŒìŠ¤ê°€ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ìƒì„±ê³¼ ë™ì‹œì— ì •ì ìœ¼ë¡œ ê³ ì •ë˜ì–´ ìˆëŠ” í˜•íƒœë¼ê³  ìƒê°í•  ìˆ˜ ìˆê² ì§€ë§Œ, ë·°ëª¨ë¸ì˜ ì—­í• ì„ ì¶©ì‹¤íˆ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì¸í’‹ì„ ì œê³µí•˜ëŠ” ì œê³µì ì—­í• ì´ë¼ê³  ìƒê°í•˜ë©´ ì½”ë””ë„¤ì´í„° íŒ¨í„´ ì ìš©ì´ ë” ì‰½ë‹¤.

í˜ì´ì§€ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìœ„ì¹˜í•˜ëŠ” í˜•íƒœëŠ” ì¼ë°˜ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ë‹¤.

![pageview](../.vuepress/assets/snack/44-5.jpeg)

ë¶€ëª¨ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìˆê³ , í˜ì´ì§€ë·°ì˜ view ì†ì„±ì´ ë¶€ëª¨ ë·°ì˜ ë ˆì´ì•„ì›ƒ ìì‹ ìš”ì†Œë¡œ í¬í•¨ë˜ëŠ” í˜•íƒœì´ë‹¤. ì´ë•Œ í˜ì´ì§€ë·° í™”ë©´ ì „í™˜ê³¼ ê´€ë ¨ëœ ë¡œì§ë“¤ì— ëŒ€í•´ ë¸ë¦¬ê²Œì´íŠ¸ ë° ë°ì´í„°ì†ŒìŠ¤ê°€ ë¶€ëª¨ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì— ì—°ê²°ë˜ëŠ”ë°, ì½”ë””ë„¤ì´í„°ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¸ í˜•íƒœë¡œ ì‘ì„±ëœë‹¤.

## í˜ì´ì§€ë·° ì£¼ì…í•˜ê¸°

ìš°ì„  í˜ì´ì§€ë·° ê´€ë ¨ í™”ë©´ ì „í™˜ ë¡œì§ë“¤ì„ í”„ë¡œí† ì½œë¡œ ì‘ì„±í•œë‹¤.

```swift
protocol PageViewCoordinator: Coordinator {
    var pageViewController: UIPageViewController { get set }
    func selectPage(_ page: PageViewType)
    func setSelectedIndex(_ index: Int)
    func currentPage() -> PageViewType?
    func viewControllerBefore() -> UIViewController?
    func viewControllerAfter() -> UIViewController?
}
```

ìœ„ì˜ ì½”ë“œì—ì„œ `PageViewType`ì€ í˜ì´ì§€ë·° ë‚´ì— ë“¤ì–´ê°ˆ í˜ì´ì§€ë“¤ì„ ì—´ê±°í˜•ìœ¼ë¡œ ì •ì˜í•´ë‘” ê²ƒì´ë‹¤.

:::details í˜ì´ì§€ë·° ì—´ê±°í˜• ì˜ˆì‹œ

```swift
enum PageViewType: String, CaseIterable {
    case posepick
    case posetalk
    case posefeed
    case bookmark
    case myPage

    init?(index: Int) {
        switch index {
        case 0: self = .posepick
        case 1: self = .posetalk
        case 2: self = .posefeed
        default: return nil
        }
    }

    init?(_ viewController: UIViewController) {
        switch viewController {
        case viewController as? PosePickViewController: self = .posepick
        case viewController as? PoseTalkViewController: self = .posetalk
        case viewController as? PoseFeedViewController: self = .posefeed
        default: return nil
        }
    }

    func pageTitleValue() -> String {
        switch self {
        case .posepick:
            return "í¬ì¦ˆí”½"
        case .posetalk:
            return "í¬ì¦ˆí†¡"
        case .posefeed:
            return "í¬ì¦ˆí”¼ë“œ"
        case .bookmark:
            return "ë¶ë§ˆí¬"
        case .myPage:
            return ""
        }
    }

    func pageOrderNumber() -> Int {
        switch self {
        case .posepick:
            return 0
        case .posetalk:
            return 1
        case .posefeed:
            return 2
        case .bookmark:
            return 3
        case .myPage:
            return 4
        }
    }
}
```

:::

í”„ë¡œí† ì½œì„ ì‚´í´ë³´ë©´ êµ¬í˜„ì´ í•„ìš”í•œ ì†ì„± ì¤‘ í˜ì´ì§€ë·° ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìˆë‹¤. í”„ë¡œí† ì½œì„ ì±„íƒí•˜ì—¬ êµ¬í˜„í•œ ì½”ë””ë„¤ì´í„° í´ë˜ìŠ¤ì— ë¶€ëª¨ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì†ì„±ìœ¼ë¡œ ë³´ìœ í•˜ë©°, í”„ë¡œí† ì½œì˜ í˜ì´ì§€ë·° ì†ì„±ì˜ ë¸ë¦¬ê²Œì´íŠ¸ ë° ë°ì´í„°ì†ŒìŠ¤ë¥¼ í•´ë‹¹ ë¶€ëª¨ ë·°ì— ì—°ê²°í•˜ëŠ” í˜•íƒœë¡œ êµ¬í˜„í•˜ê²Œ ëœë‹¤.

```swift
class DefaultPageViewCoordinator: PageViewCoordinator {
    weak var finishDelegate: CoordinatorFinishDelegate?
    var navigationController: UINavigationController
    var childCoordinators: [Coordinator] = []
    var pageViewController: UIPageViewController
    var commonViewController: CommonViewController
    var type: CoordinatorType { .pageview }

    var controllers: [UINavigationController] = []

    required init(_ navigationController: UINavigationController) {
        self.navigationController = navigationController
        self.pageViewController = UIPageViewController(transitionStyle: .scroll, navigationOrientation: .horizontal)
        self.commonViewController = CommonViewController(pageViewController: pageViewController)
        self.commonViewController.viewModel = CommonViewModel()

        navigationController.setNavigationBarHidden(true, animated: true)
    }

    // ...
    func start() {
        let pages: [PageViewType] = [.posepick, .posetalk, .posefeed]
        controllers = pages.map({
            self.createPageViewNavigationController(of: $0)
        })
        self.configurePageViewController(with: controllers)
    }

    private func configurePageViewController(with pageViewControllers: [UIViewController]) {
        self.pageViewController.delegate = commonViewController
        self.pageViewController.dataSource = commonViewController
        self.pageViewController.setViewControllers([pageViewControllers[0]], direction: .forward, animated: true)
        self.navigationController.pushViewController(self.commonViewController, animated: true)
    }
}
```

ìƒì„±ì í•¨ìˆ˜ í˜¸ì¶œ ì‹œì ì— ë¶€ëª¨ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ìƒì„±í•˜ê³  ì½”ë””ë„¤ì´í„°ì˜ ì²« ì‹œì‘ì„ ì•Œë¦¬ëŠ” start í•¨ìˆ˜ì—ì„œ ë¸ë¦¬ê²Œì´íŠ¸ ë° ë°ì´í„°ì†ŒìŠ¤ í• ë‹¹ì´ ì´ë£¨ì–´ì§„ë‹¤. `PageViewType` ë°°ì—´ì„ ìˆœíšŒí•˜ë©° `pageviewController.viewControllers` ì†ì„±ì— í• ë‹¹í•  ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë“¤ì„ ìƒì„± ë° ì†ì„±ì— í• ë‹¹í•œë‹¤.

`configurePageViewController` í•¨ìˆ˜ì˜ ê²½ìš° í˜ì´ì§€ë·° ì½”ë””ë„¤ì´í„° ì™¸ë¶€ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ì´ê¸° ë•Œë¬¸ì— `private`ìœ¼ë¡œ ì„ ì–¸í•˜ë©° ë°ì´í„°ì†ŒìŠ¤ ë° ë¸ë¦¬ê²Œì´íŠ¸ í• ë‹¹ì„ ì§„í–‰í•œë‹¤.

## í˜ì´ì§€ë·° ë¸ë¦¬ê²Œì´íŠ¸ & ë°ì´í„°ì†ŒìŠ¤

ë¸ë¦¬ê²Œì´íŠ¸ ë° ë°ì´í„° ì†ŒìŠ¤ í• ë‹¹ì€ ì½”ë””ë„¤ì´í„°ì—ì„œ ì´ë£¨ì–´ì§€ëŠ” ê²ƒì´ ë§ëŠ”ë°, ì‹¤ì œ ë™ì‘ì„ ì–´ë–»ê²Œ êµ¬í˜„í•´ì•¼ í• ê¹Œ? ë‚´ê°€ êµ¬í˜„í•œ ê²ƒì´ ì •ë‹µì€ ì•„ë‹ˆê² ì§€ë§Œ ì•„ë˜ì™€ ê°™ì´ êµ¬í˜„í•˜ì˜€ë‹¤.

```swift
extension CommonViewController: UIPageViewControllerDelegate {
    func pageViewController(
        _ pageViewController: UIPageViewController,
        didFinishAnimating finished: Bool,
        previousViewControllers: [UIViewController],
        transitionCompleted completed: Bool
    ) {
        self.pageviewControllerDidFinishEvent.accept(())
    }
}

extension CommonViewController: UIPageViewControllerDataSource {
    func pageViewController(_ pageViewController: UIPageViewController, viewControllerBefore viewController: UIViewController) -> UIViewController? {
        return viewModel?.viewControllerBefore()
    }

    func pageViewController(_ pageViewController: UIPageViewController, viewControllerAfter viewController: UIViewController) -> UIViewController? {
        return viewModel?.viewControllerAfter()
    }
}
```

ë¸ë¦¬ê²Œì´íŠ¸ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ì— ë¶€ëª¨ ë·° ì†ì„±ì— ì •ì˜í•´ë‘” ì˜µì €ë²„ë¸”ì— next ì´ë²¤íŠ¸ë¥¼ ë°©ì¶œí•˜ê³ , ë°ì´í„°ì†ŒìŠ¤ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ì—ëŠ” ë·°ëª¨ë¸ì˜ `viewControlerBefore` & `viewControllerAfter` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.

ë¸ë¦¬ê²Œì´íŠ¸ì˜ ê²½ìš° í•¨ìˆ˜ ë¦¬í„´íƒ€ì…ì´ `Void`ì´ê¸° ë•Œë¬¸ì— ì˜µì €ë²„ë¸”ì„ í†µí•œ ë¡œì§ êµ¬ì„±ì´ ì˜¨ì „í•˜ê²Œ ê°€ëŠ¥í•˜ì§€ë§Œ ë°ì´í„°ì†ŒìŠ¤ì˜ ê²½ìš° ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì²´ ìì²´ë¥¼ ì–»ì–´ì™€ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë·°ëª¨ë¸ì— ì§ì ‘ ì •ì˜í•œ í•¨ìˆ˜ë¡œë¶€í„° ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì²´ë¥¼ ë¦¬í„´ë°›ì•„ì™€ì•¼ í•œë‹¤.

`viewControllerBefore` & `viewControllerAfter` ë‘ í•¨ìˆ˜ëŠ” ì½”ë””ë„¤ì´í„°ë¥¼ ì°¸ì¡°í•˜ì—¬ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë¶ˆëŸ¬ì˜¤ê²Œ ëœë‹¤.

## í˜ì´ì§€ë·° ë°ì´í„°ì†ŒìŠ¤ & ë·°ëª¨ë¸

í˜ì´ì§€ë·° ë°ì´í„°ì†ŒìŠ¤ ì²˜ë¦¬ ê³¼ì •ì„ ì‚´í´ë³´ì. ë·°ëª¨ë¸ì˜ `viewControllerBefore` í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ë˜ì–´ ìˆë‹¤.

```swift
/// UIPageViewController DataSource - viewControllerBefore
func viewControllerBefore() -> UIViewController? {
    return self.coordinator?.viewControllerBefore()
}

/// UIPageViewController DataSource -> viewControllerAfter
func viewControllerAfter() -> UIViewController? {
    return self.coordinator?.viewControllerAfter()
}
```

ì½”ë””ë„¤ì´í„°ë¡œë¶€í„° í˜„ì¬ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ìŒ ì¸ë±ìŠ¤ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì²´ì™€ ì´ì „ ìˆœì„œì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì²´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë¡œì§ì´ë‹¤.

```swift
func viewControllerBefore() -> UIViewController? {
    guard let currentIndex = currentPage()?.pageOrderNumber() else { return nil }
    if currentIndex == 0 {
        return nil
    }

    return controllers[currentIndex - 1]
}

func viewControllerAfter() -> UIViewController? {
    guard let currentIndex = currentPage()?.pageOrderNumber() else { return nil }
    if currentIndex == controllers.count - 1 {
        return nil
    }
    return controllers[currentIndex + 1]
}
```

ì½”ë””ë„¤ì´í„°ì— ì‹¤ì œ êµ¬í˜„ë˜ì–´ ìˆëŠ” í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤. ì½”ë””ë„¤ì´í„°ì˜ `currentPage`ë¥¼ ì¡°íšŒí•˜ì—¬ ì „ì²´ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ê°¯ìˆ˜ì˜ ì˜¤ë²„í”Œë¡œìš°ê°€ ë‚˜ì§€ ì•Šìœ¼ë©´ ì¸ë±ìŠ¤ì˜ ì¦ê°ì„ í†µí•´ ì»¨íŠ¸ë¡¤ëŸ¬ ê°ì²´ë¥¼ ë¦¬í„´í•´ì£¼ëŠ” ê²ƒì´ë‹¤.

ì½”ë””ë„¤ì´í„°ì˜ `currentPage`í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ë˜ì–´ ìˆë‹¤.

```swift
func currentPage() -> PageViewType? {
    guard let navigationController = pageViewController.viewControllers?.first as? UINavigationController,
            let viewController = navigationController.viewControllers.first,
            let page = PageViewType(viewController) else { return .posepick }

    return page
}
```

ì•½ê°„ì€ ë³µì¡í•´ ë³´ì¼ ìˆ˜ ìˆëŠ”ë°, í¬ì¦ˆí”¼ì»¤ ì•±ì˜ í˜ì´ì§€ë·° êµ¬ì„±ì´ ì•„ë˜ì™€ ê°™ì€ í˜•íƒœë¡œ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ìœ„ì²˜ëŸ¼ ì½”ë“œê°€ ì‘ì„±ëœ ê²ƒì´ë‹¤.

![44-6](../.vuepress/assets/snack/44-6.jpeg)

ë‹¨ìˆœ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ í•˜ë‚˜ë§Œ í˜ì´ì§€ë·°ì—ì„œ ë³´ì´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ê° í˜ì´ì§€ë·°ì˜ ë·°ë§ˆë‹¤ ìƒˆë¡œìš´ ë·°ë¥¼ present ë° pushí•˜ëŠ” ë¡œì§ë“¤ì´ ìˆê¸° ë•Œë¬¸ì— ë„¤ë¹„ê²Œì´ì…˜ ë·°ë¥¼ í˜ì´ì§€ë·°ì˜ viewControllers ì†ì„±ì˜ ê°’ë“¤ë¡œ í• ë‹¹í•´ì£¼ëŠ” ê²ƒì´ë‹¤.

ë‹¤ì‹œ `currentPage`í•¨ìˆ˜ë¡œ ëŒì•„ê°€ì„œ, íƒ€ì… ìºìŠ¤íŒ… ê³¼ì •ì—ì„œ pageViewControllerì˜ `viewControllers` ì†ì„±ì„ `UINavigationController` íƒ€ì…ìœ¼ë¡œ ìºìŠ¤íŒ…í•˜ëŠ” ì´ìœ ê°€ ì´ëŸ¬í•œ ì´ìœ  ë•Œë¬¸ì¸ ê²ƒì´ë‹¤.

ë„¤ë¹„ê²Œì´ì…˜ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì»¨íŠ¸ë¡¤ëŸ¬ ì†ì„±ì— ì ‘ê·¼í•œ ë’¤ pushëœ ì»¨íŠ¸ë¡¤ëŸ¬ ì¤‘ `first` íƒ€ì…ì´ `PageViewType` ì—´ê±°í˜•ìœ¼ë¡œë¶€í„° ìƒì„± ê°€ëŠ¥í•œ ë·°ë¼ë©´ ì´ë¥¼ í˜„ì¬ ë·° íƒ€ì…ìœ¼ë¡œ ë¦¬í„´í•´ì£¼ëŠ” í•¨ìˆ˜ì´ë‹¤.

```swift
init?(_ viewController: UIViewController) {
    switch viewController {
    case viewController as? PosePickViewController: self = .posepick
    case viewController as? PoseTalkViewController: self = .posetalk
    case viewController as? PoseFeedViewController: self = .posefeed
    default: return nil
    }
}
```

íƒ€ì… ìºìŠ¤íŒ…ì„ ì‹¤í–‰í–ˆì„ë•Œ ì •ìƒì ìœ¼ë¡œ ìºìŠ¤íŒ…ì´ ì™„ë£Œë˜ë©´ ì—´ê±°í˜• ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë¦¬í„´í•´ì£¼ëŠ” ë°©ì‹ì´ë‹¤.

ë¸ë¦¬ê²Œì´íŠ¸ì™€ ë°ì´í„°ì†ŒìŠ¤ í•¨ìˆ˜ì— `print`ë¥¼ ì°ì–´ë³´ë©´ ë§¤ë²ˆ ë¸ë¦¬ê²Œì´íŠ¸ìª½ í•¨ìˆ˜ê°€ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ë¬¼ë¡ , ì²« ë¡œë“œ ì´í›„ ìŠ¬ë¼ì´ë“œê°€ ì¡°ê¸ˆì´ë¼ë„ ê°ì§€ë˜ë©´ ê·¸ ì¦‰ì‹œ ë¸ë¦¬ê²Œì´íŠ¸ before & after í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©° ì´ˆê¸° ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ê¸°ì¤€ìœ¼ë¡œ ì´ì „ê³¼ ë‹¤ìŒ ì¸ë±ìŠ¤ë¥¼ ê³„ì‚°í•´ì¤€ë‹¤.

ì´ë¥¼ í†µí•´ ë°ì´í„°ì†ŒìŠ¤ì™€ ë¸ë¦¬ê²Œì´íŠ¸ ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ëŒ€ëµì ìœ¼ë¡œ ì •ë¦¬í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. í˜ì´ì§€ë·° ì´ˆê¸°í™” ì´í›„ ë§¨ ì²˜ìŒ ìŠ¬ë¼ì´ë“œê°€ ê°ì§€ë˜ë©´ í˜„ì¬ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ìŒ & ì´ì „ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì–»ì–´ì˜¨ë‹¤.
2. ì´ˆê¸° í˜ì´ì§€ ì „í™˜ì´ ì´ë£¨ì–´ì§„ ì´í›„ë¶€í„°ëŠ”, ë¸ë¦¬ê²Œì´íŠ¸ í•¨ìˆ˜ê°€ ë¨¼ì € í˜¸ì¶œë˜ê³  ì´í›„ ë°ì´í„°ì†ŒìŠ¤ í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì–´ ì„¸íŒ…ëœ ë·° ê¸°ì¤€ìœ¼ë¡œ ì´ì „ & ì´í›„ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¸ì¡°í•˜ê³  ìˆê²Œ ëœë‹¤.

## í˜ì´ì§€ë·° ë¸ë¦¬ê²Œì´íŠ¸ & ë·°ëª¨ë¸

í˜ì´ì§€ë·° ë¸ë¦¬ê²Œì´íŠ¸ ì´ë²¤íŠ¸ ì²˜ë¦¬ ê³¼ì •ì„ ì‚´í´ë³´ì. ë¸ë¦¬ê²Œì´íŠ¸ í•¨ìˆ˜ë¥¼ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ êµ¬í˜„ë˜ì–´ ìˆë‹¤.

```swift
extension CommonViewController: UIPageViewControllerDelegate {
    func pageViewController(
        _ pageViewController: UIPageViewController,
        didFinishAnimating finished: Bool,
        previousViewControllers: [UIViewController],
        transitionCompleted completed: Bool
    ) {
        self.pageviewControllerDidFinishEvent.accept(())
    }
}
```

ë¸ë¦¬ê²Œì´íŠ¸ í•¨ìˆ˜ í˜¸ì¶œê³¼ í•¨ê»˜ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì˜µì €ë²„ë¸”ì—ì„œ ì´ë²¤íŠ¸ë¥¼ ìƒˆë¡œ ë°©ì¶œí•œë‹¤. ì´ëŠ” ë·°ëª¨ë¸ì— ì „ë‹¬ë˜ì–´ ì½”ë””ë„¤ì´í„°ì˜ í˜ì´ì§€ ì„¸íŒ… í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.

```swift
func transform(from input: Input, disposeBag: DisposeBag) -> Output {
    let output = Output()

    input.pageviewTransitionDelegateEvent
        .subscribe(onNext: { [weak self] in
            guard let self = self,
                  let coordinator = self.coordinator else {return}
            output.pageTransitionEvent.accept(coordinator.currentPage()?.pageOrderNumber() ?? 0)
        })
        .disposed(by: disposeBag)

    return output
}
```

ë¸ë¦¬ê²Œì´íŠ¸ í˜¸ì¶œ ì´í›„, ì½”ë””ë„¤ì´í„°ì—ì„œëŠ” ì°¸ì¡°í•˜ê³  ìˆë˜ next í˜¹ì€ previous ë·° ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ `setViewController`ë¥¼ ì§„í–‰í•˜ê²Œ ëœë‹¤.

ë¸ë¦¬ê²Œì´íŠ¸ í•¨ìˆ˜ëŠ” ë·° ì• ë‹ˆë©”ì´ì…˜ì´ ëª¨ë‘ ë§ˆì¹œ ì‹œì ì— í˜¸ì¶œë˜ê¸° ë•Œë¬¸ì—, ì½”ë””ë„¤ì´í„° ì…ì¥ì—ì„œë„ ë°˜í™˜í•´ì¤„ í˜„ì¬ ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì¸ë±ìŠ¤ê°’ì´ í™”ë©´ ì „í™˜ì´ ì´ë£¨ì–´ì§„ ë’¤ì˜ ê°€ì¥ ìµœì‹  ì¸ë±ìŠ¤ê°’ì„ ë¦¬í„´í•´ì£¼ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

ë·°ëª¨ë¸ì˜ ì•„ì›ƒí’‹ ì¸ìŠ¤í„´ìŠ¤ì— ìƒˆë¡œ ì„¸íŒ…ëœ í˜ì´ì§€ ì¸ë±ìŠ¤ê°’ì´ ì „ë‹¬ë˜ë©´, ë·° ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œëŠ” **ì„¸ê·¸ë¨¼íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìœ„ì¹˜ë¥¼ ë³€ê²½í•˜ê²Œ ëœë‹¤.**
